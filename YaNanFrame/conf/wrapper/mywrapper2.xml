<?xml version="1.0" encoding="UTF-8"?>
<wrapper namespace="testSql" database="YaNan_Demo">
	<select id="query4" parameterType = "map" resultType="map">
		SELECT
			app.appid  as appid,
			path,
			extraData,
			envVersion,
			icon,
			NAME
		FROM
			application_area area
		LEFT JOIN application app ON area.appid = app.appid
		WHERE
			(
				6378.137 * 2 * ASIN(
					SQRT(
						POW(
							SIN(
								(lat * PI() / 180 - ${lat}* PI() / 180) / 2
							),
							2
						) + COS(lat * PI() / 180) * COS(${lat}* PI() / 180) * POW(
							SIN(
								(lon * PI() / 180 - ${lon}* PI() / 180) / 2
							),
							2
						)
					)
				)
			)<![CDATA[ < ]]> dart
		AND app.status = '24'
		GROUP BY
			app.appid,
			path,
			extraData,
			envVersion,
			icon,
			NAME
	</select>
</wrapper>